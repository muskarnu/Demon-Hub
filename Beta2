local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local gui = Instance.new("ScreenGui", game.Players.LocalPlayer:WaitForChild("PlayerGui"))
gui.ResetOnSpawn = false

-- Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
local mainContainer = Instance.new("Frame")
mainContainer.Name = "MainContainer"
mainContainer.Size = UDim2.new(0, 500, 0, 300)
mainContainer.Position = UDim2.new(0.5, -250, 0.5, -150) -- Ù…Ù†ØªØµÙ Ø§Ù„Ø´Ø§Ø´Ø©
mainContainer.BackgroundTransparency = 1
mainContainer.Visible = false
mainContainer.Parent = gui

-- Ø§Ù„Ø§Ø·Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ
local dragBar = Instance.new("Frame")
dragBar.Size = UDim2.new(1, 0, 0, 35)
dragBar.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
dragBar.BorderSizePixel = 2
dragBar.BorderColor3 = Color3.new(0, 0, 0)
dragBar.Parent = mainContainer

-- Ø²Ø± X
local closeButton = Instance.new("TextButton")
closeButton.Text = "X"
closeButton.Size = UDim2.new(0, 35, 0, 35)
closeButton.Position = UDim2.new(1, -35, 0, 0)
closeButton.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
closeButton.TextColor3 = Color3.new(1, 1, 1)
closeButton.Parent = dragBar

closeButton.MouseButton1Click:Connect(function()
	mainContainer.Visible = false
end)

-- Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
local sectionsFrame = Instance.new("ScrollingFrame")
sectionsFrame.Size = UDim2.new(0, 120, 1, -35)
sectionsFrame.Position = UDim2.new(0, 0, 0, 35)
sectionsFrame.ScrollBarThickness = 6
sectionsFrame.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
sectionsFrame.BorderSizePixel = 2
sectionsFrame.BorderColor3 = Color3.new(0, 0, 0)
sectionsFrame.Parent = mainContainer

-- contentFrame
local contentFrame = Instance.new("ScrollingFrame")
contentFrame.Size = UDim2.new(1, -120, 1, -35)
contentFrame.Position = UDim2.new(0, 120, 0, 35)
contentFrame.ScrollBarThickness = 6
contentFrame.BackgroundTransparency = 1
contentFrame.BorderSizePixel = 2
contentFrame.BorderColor3 = Color3.new(0, 0, 0)
contentFrame.Parent = mainContainer

-- ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ©
local bgImage = Instance.new("ImageLabel")
bgImage.Name = "ContentBackground"
bgImage.Size = contentFrame.Size
bgImage.Position = contentFrame.Position
bgImage.Image = "rbxassetid://127999374636975"
bgImage.BackgroundTransparency = 0
bgImage.ZIndex = contentFrame.ZIndex - 1
bgImage.Parent = mainContainer

-- Ø²Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„
local toggleButton = Instance.new("ImageButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0, 40, 0, 40)
toggleButton.Position = UDim2.new(0, 20, 0.5, -20)
toggleButton.Image = "rbxassetid://127852236522608"
toggleButton.BackgroundTransparency = 1
toggleButton.ZIndex = 999999
toggleButton.Parent = gui

-- Ø³Ø­Ø¨ Ø²Ø± Ø§Ù„ØªØ¨Ø¯ÙŠÙ„
local dragging = false
local dragStart, startPos

toggleButton.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = toggleButton.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - dragStart
		toggleButton.Position = UDim2.new(0, startPos.X.Offset + delta.X, 0, startPos.Y.Offset + delta.Y)
	end
end)

-- ÙØªØ­/Ø§ØºÙ„Ø§Ù‚ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
local open = false
local openTween = TweenService:Create(mainContainer, TweenInfo.new(0.4), {Position = UDim2.new(0.5, -250, 0.5, -150)})
local closeTween = TweenService:Create(mainContainer, TweenInfo.new(0.4), {Position = UDim2.new(-1, 0, 0.5, -150)})

toggleButton.MouseButton1Click:Connect(function()
	open = not open
	if open then
		mainContainer.Visible = true
		openTween:Play()
	else
		closeTween:Play()
		closeTween.Completed:Wait()
		mainContainer.Visible = false
	end
end)

-- Ø³Ø­Ø¨ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ù…Ù† Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ
local draggingFrame = false
local dragStartF, startPosF

local function startDragging(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		draggingFrame = true
		dragStartF = input.Position
		startPosF = mainContainer.Position

		local moveConn
		moveConn = UserInputService.InputChanged:Connect(function(moveInput)
			if moveInput.UserInputType == Enum.UserInputType.MouseMovement and draggingFrame then
				local delta = moveInput.Position - dragStartF
				mainContainer.Position = UDim2.new(
					startPosF.X.Scale, startPosF.X.Offset + delta.X,
					startPosF.Y.Scale, startPosF.Y.Offset + delta.Y
				)
				bgImage.Position = contentFrame.Position -- ÙŠØ¸Ù„ Ù…ÙƒØ§Ù†Ù‡
			end
		end)

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				draggingFrame = false
				if moveConn then moveConn:Disconnect() end
			end
		end)
	end
end

dragBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		if not closeButton:IsDescendantOf(input.Target) then
			startDragging(input)
		end
	end
end)

-- Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
local sectionNames = {"Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", "Ø§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª", "Ø§Ù„Ù„Ø§Ø¹Ø¨", "Ø§Ù„ØªØ®Ø±ÙŠØ¨", "Ø§Ù„Ø³ÙƒÙ†", "Ø§Ù„Ø­Ù…Ø§ÙŠØ©"}

-- Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
local sectionContents = {
	["Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"] = function()
	local texts = {
		"Ev_Rami",
		"Ø­Ø³Ø§Ø¨ÙŠ Ø±ÙˆØ¨: Sajwaad",
		"Ø³ÙƒØ±Ø¨Øª DemonHubV0.3"
	}

	for i, text in ipairs(texts) do
		local label = Instance.new("TextLabel")
		label.Text = text
		label.Size = UDim2.new(0, 300, 0, 40)
		label.Position = UDim2.new(0, 10, 0, (i-1)*45 + 10)
		label.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		label.TextColor3 = Color3.new(0, 0, 0)
		label.Font = Enum.Font.SourceSansBold
		label.TextSize = 22
		label.Parent = contentFrame
	end
end,

	["Ø§Ù„Ø³ÙƒØ±Ø¨ØªØ§Øª"] = function()
	local scripts = {
		{Title = "vr7", Script = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-VR7-35232"))()'},
		{Title = "Martin", Script = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Brookhaven-RP-MARTIN-IRAQ-31476"))()'},
		{Title = "Sander X", Script = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Brookhaven-RP-Sander-x-22769"))()'},
		{Title = "Ù…Ø¶Ø§Ø¯ Ù„Ù„Ø¬Ù„ÙˆØ³", Script = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Xora-Safety-24300"))()'},
		{Title = "Ø³ÙƒØ±Ø¨Øª Ø§Ø¨ÙˆØ§Ø¨", Script = '-- Ø³ÙƒØ±Ø¨Øª ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¢Ø®Ø±'}
	}

	for i, data in ipairs(scripts) do
		local btn = Instance.new("TextButton")
		btn.Text = data.Title
		btn.Size = UDim2.new(0, 260, 0, 35)
		btn.Position = UDim2.new(0, 10, 0, (i-1)*40 + 10)
		btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		btn.TextColor3 = Color3.new(1, 1, 1)
		btn.Font = Enum.Font.SourceSansBold
		btn.TextSize = 20
		btn.Parent = contentFrame

		btn.MouseButton1Click:Connect(function()
			loadstring(data.Script)()
		end)
	end
end,
	["Ø§Ù„Ù„Ø§Ø¹Ø¨"] = function()
		local info = Instance.new("TextLabel")
		info.Text = "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù‡Ù†Ø§"
		info.Size = UDim2.new(0, 200, 0, 40)
		info.Position = UDim2.new(0, 10, 0, 10)
		info.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		info.TextColor3 = Color3.new(0, 0, 0)
		info.Parent = contentFrame
	end,

	["Ø§Ù„ØªØ®Ø±ÙŠØ¨"] = function()
		local troll = Instance.new("TextButton")
		troll.Text = "Ø²Ø± ØªØ®Ø±ÙŠØ¨ ğŸ˜‚"
		troll.Size = UDim2.new(0, 200, 0, 40)
		troll.Position = UDim2.new(0, 10, 0, 10)
		troll.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
		troll.TextColor3 = Color3.new(1, 1, 1)
		troll.Parent = contentFrame
	end,

	["Ø§Ù„Ø³ÙƒÙ†"] = function()
		local skin = Instance.new("TextLabel")
		skin.Text = "Ø§Ù„Ø³ÙƒÙ†Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ"
		skin.Size = UDim2.new(0, 200, 0, 40)
		skin.Position = UDim2.new(0, 10, 0, 10)
		skin.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		skin.TextColor3 = Color3.new(0, 0, 0)
		skin.Parent = contentFrame
	end,

	["Ø§Ù„Ø­Ù…Ø§ÙŠØ©"] = function()
		local shield = Instance.new("TextLabel")
		shield.Text = "Ø§Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ù…Ø§ÙŠØ©"
		shield.Size = UDim2.new(0, 200, 0, 40)
		shield.Position = UDim2.new(0, 10, 0, 10)
		shield.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		shield.TextColor3 = Color3.new(0, 0, 0)
		shield.Parent = contentFrame
	end,
}

-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
for i, name in ipairs(sectionNames) do
	local button = Instance.new("TextButton")
	button.Text = name
	button.Size = UDim2.new(1, -8, 0, 40)
	button.Position = UDim2.new(0, 4, 0, (i-1)*45)
	button.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Parent = sectionsFrame

	button.MouseButton1Click:Connect(function()
		contentFrame:ClearAllChildren()
		if sectionContents[name] then
			sectionContents[name]()
		end
	end)
end
