local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local gui = Instance.new("ScreenGui", game.Players.LocalPlayer:WaitForChild("PlayerGui"))
gui.ResetOnSpawn = false

-- الحاوية الرئيسية
local mainContainer = Instance.new("Frame")
mainContainer.Name = "MainContainer"
mainContainer.Size = UDim2.new(0, 500, 0, 300)
mainContainer.Position = UDim2.new(0.5, -250, 0.5, -150) -- منتصف الشاشة
mainContainer.BackgroundTransparency = 1
mainContainer.Visible = false
mainContainer.Parent = gui

-- الاطار العلوي
local dragBar = Instance.new("Frame")
dragBar.Size = UDim2.new(1, 0, 0, 35)
dragBar.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
dragBar.BorderSizePixel = 2
dragBar.BorderColor3 = Color3.new(0, 0, 0)
dragBar.Parent = mainContainer

-- زر X
local closeButton = Instance.new("TextButton")
closeButton.Text = "X"
closeButton.Size = UDim2.new(0, 35, 0, 35)
closeButton.Position = UDim2.new(1, -35, 0, 0)
closeButton.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
closeButton.TextColor3 = Color3.new(1, 1, 1)
closeButton.Parent = dragBar

closeButton.MouseButton1Click:Connect(function()
	mainContainer.Visible = false
end)

-- الأقسام
local sectionsFrame = Instance.new("ScrollingFrame")
sectionsFrame.Size = UDim2.new(0, 120, 1, -35)
sectionsFrame.Position = UDim2.new(0, 0, 0, 35)
sectionsFrame.ScrollBarThickness = 6
sectionsFrame.BackgroundColor3 = Color3.fromRGB(120, 0, 0)
sectionsFrame.BorderSizePixel = 2
sectionsFrame.BorderColor3 = Color3.new(0, 0, 0)
sectionsFrame.Parent = mainContainer

-- contentFrame
local contentFrame = Instance.new("ScrollingFrame")
contentFrame.Size = UDim2.new(1, -120, 1, -35)
contentFrame.Position = UDim2.new(0, 120, 0, 35)
contentFrame.ScrollBarThickness = 6
contentFrame.BackgroundTransparency = 1
contentFrame.BorderSizePixel = 2
contentFrame.BorderColor3 = Color3.new(0, 0, 0)
contentFrame.Parent = mainContainer

-- صورة الخلفية
local bgImage = Instance.new("ImageLabel")
bgImage.Name = "ContentBackground"
bgImage.Size = contentFrame.Size
bgImage.Position = contentFrame.Position
bgImage.Image = "rbxassetid://127999374636975"
bgImage.BackgroundTransparency = 0
bgImage.ZIndex = contentFrame.ZIndex - 1
bgImage.Parent = mainContainer

-- زر التبديل
local toggleButton = Instance.new("ImageButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0, 40, 0, 40)
toggleButton.Position = UDim2.new(0, 20, 0.5, -20)
toggleButton.Image = "rbxassetid://127852236522608"
toggleButton.BackgroundTransparency = 1
toggleButton.ZIndex = 999999
toggleButton.Parent = gui

-- سحب زر التبديل
local dragging = false
local dragStart, startPos

toggleButton.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = toggleButton.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
		local delta = input.Position - dragStart
		toggleButton.Position = UDim2.new(0, startPos.X.Offset + delta.X, 0, startPos.Y.Offset + delta.Y)
	end
end)

-- فتح/اغلاق الواجهة
local open = false
local openTween = TweenService:Create(mainContainer, TweenInfo.new(0.4), {Position = UDim2.new(0.5, -250, 0.5, -150)})
local closeTween = TweenService:Create(mainContainer, TweenInfo.new(0.4), {Position = UDim2.new(-1, 0, 0.5, -150)})

toggleButton.MouseButton1Click:Connect(function()
	open = not open
	if open then
		mainContainer.Visible = true
		openTween:Play()
	else
		closeTween:Play()
		closeTween.Completed:Wait()
		mainContainer.Visible = false
	end
end)

-- سحب الواجهة من الإطار العلوي
local draggingFrame = false
local dragStartF, startPosF

local function startDragging(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		draggingFrame = true
		dragStartF = input.Position
		startPosF = mainContainer.Position

		local moveConn
		moveConn = UserInputService.InputChanged:Connect(function(moveInput)
			if moveInput.UserInputType == Enum.UserInputType.MouseMovement and draggingFrame then
				local delta = moveInput.Position - dragStartF
				mainContainer.Position = UDim2.new(
					startPosF.X.Scale, startPosF.X.Offset + delta.X,
					startPosF.Y.Scale, startPosF.Y.Offset + delta.Y
				)
				bgImage.Position = contentFrame.Position -- يظل مكانه
			end
		end)

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				draggingFrame = false
				if moveConn then moveConn:Disconnect() end
			end
		end)
	end
end

dragBar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		if not closeButton:IsDescendantOf(input.Target) then
			startDragging(input)
		end
	end
end)

-- أسماء الأقسام
local sectionNames = {"القائمة الرئيسية", "السكربتات", "اللاعب", "التخريب", "السكن", "الحماية"}

-- محتويات الأقسام
local sectionContents = {
	["القائمة الرئيسية"] = function()
	local texts = {
		"Ev_Rami",
		"حسابي روب: Sajwaad",
		"سكربت DemonHubV0.3"
	}

	for i, text in ipairs(texts) do
		local label = Instance.new("TextLabel")
		label.Text = text
		label.Size = UDim2.new(0, 300, 0, 40)
		label.Position = UDim2.new(0, 10, 0, (i-1)*45 + 10)
		label.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		label.TextColor3 = Color3.new(0, 0, 0)
		label.Font = Enum.Font.SourceSansBold
		label.TextSize = 22
		label.Parent = contentFrame
	end
end,

	["السكربتات"] = function()
	local scripts = {
		{Title = "vr7", Script = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-VR7-35232"))()'},
		{Title = "Martin", Script = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Brookhaven-RP-MARTIN-IRAQ-31476"))()'},
		{Title = "Sander X", Script = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Brookhaven-RP-Sander-x-22769"))()'},
		{Title = "مضاد للجلوس", Script = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Anti-sit-script-38345"))()'},
		{Title = "سكربت ابواب", Script = 'loadstring(game:HttpGet("https://raw.githubusercontent.com/muskarnu/Demon-Hub/main/DemonXpart"))()'},
		{Title = "اداة مطورين", Script = 'loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Dex-Fixed-Bugs-42099"))()'},
		{Title = "زيادة فريمات", Script = 'loadstring(game:HttpGet("https://raw.githubusercontent.com/muskarnu/Demon-Hub/main/Fps"))()'} -- الزر السابع
	}

	for i, data in ipairs(scripts) do  
		local btn = Instance.new("TextButton")  
		btn.Text = data.Title  
		btn.Size = UDim2.new(0, 260, 0, 35)  
		btn.Position = UDim2.new(0, 10, 0, (i-1)*40 + 10)  
		btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)  
		btn.TextColor3 = Color3.new(1, 1, 1)  
		btn.Font = Enum.Font.SourceSansBold  
		btn.TextSize = 20  
		btn.Parent = contentFrame  

		btn.MouseButton1Click:Connect(function()  
			loadstring(data.Script)()  
		end)  
	end
end,
	["اللاعب"] = function()
    -- مسح محتويات contentFrame القديمة
    contentFrame:ClearAllChildren()

    local info = Instance.new("TextLabel")
    info.Text = "تفعيلات اللاعب"
    info.Size = UDim2.new(0, 200, 0, 40)
    info.Position = UDim2.new(0, 10, 0, 10)
    info.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
    info.TextColor3 = Color3.new(0, 0, 0)
    info.Parent = contentFrame

    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")

    -- زر طيران Fly
    local flyBtn = Instance.new("TextButton")
    flyBtn.Text = "طيران"
    flyBtn.Size = UDim2.new(0, 100, 0, 35)
    flyBtn.Position = UDim2.new(0, 10, 0, 60)
    flyBtn.BackgroundColor3 = Color3.new(0,0,0)
    flyBtn.TextColor3 = Color3.new(1,1,1)
    flyBtn.Font = Enum.Font.SourceSansBold
    flyBtn.TextSize = 20
    flyBtn.Parent = contentFrame

    flyBtn.MouseButton1Click:Connect(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/muskarnu/Demon-Hub/ded891eae3a34fdede62fee7161bb048fa803f93/Fly"))()
    end)

    -- زر قفز + مربع كتابة قيمة القفز + ON/OFF toggle
    local jumpLabel = Instance.new("TextLabel")
    jumpLabel.Text = "قوة القفز:"
    jumpLabel.Size = UDim2.new(0, 80, 0, 25)
    jumpLabel.Position = UDim2.new(0, 120, 0, 65)
    jumpLabel.BackgroundTransparency = 1
    jumpLabel.TextColor3 = Color3.new(0,0,0)
    jumpLabel.Font = Enum.Font.SourceSans
    jumpLabel.TextSize = 18
    jumpLabel.Parent = contentFrame

    local jumpInput = Instance.new("TextBox")
    jumpInput.PlaceholderText = "50"
    jumpInput.Text = "50"
    jumpInput.Size = UDim2.new(0, 60, 0, 25)
    jumpInput.Position = UDim2.new(0, 200, 0, 65)
    jumpInput.BackgroundColor3 = Color3.new(1,1,1)
    jumpInput.TextColor3 = Color3.new(0,0,0)
    jumpInput.ClearTextOnFocus = false
    jumpInput.Parent = contentFrame

    local jumpToggle = Instance.new("TextButton")
    jumpToggle.Text = "OFF"
    jumpToggle.Size = UDim2.new(0, 40, 0, 25)
    jumpToggle.Position = UDim2.new(0, 265, 0, 65)
    jumpToggle.BackgroundColor3 = Color3.new(0,0,0)
    jumpToggle.TextColor3 = Color3.new(1,1,1)
    jumpToggle.Font = Enum.Font.SourceSansBold
    jumpToggle.TextSize = 18
    jumpToggle.Parent = contentFrame

    local jumpOn = false
    jumpToggle.MouseButton1Click:Connect(function()
        jumpOn = not jumpOn
        jumpToggle.Text = jumpOn and "ON" or "OFF"
        if jumpOn then
            local val = tonumber(jumpInput.Text)
            if val then
                humanoid.JumpPower = val
            else
                humanoid.JumpPower = 50
            end
        else
            humanoid.JumpPower = 50 -- القيمة الافتراضية
        end
    end)

    -- زر سرعة + مربع كتابة قيمة السرعة + ON/OFF toggle
    local speedLabel = Instance.new("TextLabel")
    speedLabel.Text = "السرعة:"
    speedLabel.Size = UDim2.new(0, 50, 0, 25)
    speedLabel.Position = UDim2.new(0, 10, 0, 110)
    speedLabel.BackgroundTransparency = 1
    speedLabel.TextColor3 = Color3.new(0,0,0)
    speedLabel.Font = Enum.Font.SourceSans
    speedLabel.TextSize = 18
    speedLabel.Parent = contentFrame

    local speedInput = Instance.new("TextBox")
    speedInput.PlaceholderText = "16"
    speedInput.Text = "16"
    speedInput.Size = UDim2.new(0, 60, 0, 25)
    speedInput.Position = UDim2.new(0, 65, 0, 110)
    speedInput.BackgroundColor3 = Color3.new(1,1,1)
    speedInput.TextColor3 = Color3.new(0,0,0)
    speedInput.ClearTextOnFocus = false
    speedInput.Parent = contentFrame

    local speedToggle = Instance.new("TextButton")
    speedToggle.Text = "OFF"
    speedToggle.Size = UDim2.new(0, 40, 0, 25)
    speedToggle.Position = UDim2.new(0, 130, 0, 110)
    speedToggle.BackgroundColor3 = Color3.new(0,0,0)
    speedToggle.TextColor3 = Color3.new(1,1,1)
    speedToggle.Font = Enum.Font.SourceSansBold
    speedToggle.TextSize = 18
    speedToggle.Parent = contentFrame

    local speedOn = false
    speedToggle.MouseButton1Click:Connect(function()
        speedOn = not speedOn
        speedToggle.Text = speedOn and "ON" or "OFF"
        if speedOn then
            local val = tonumber(speedInput.Text)
            if val then
                humanoid.WalkSpeed = val
            else
                humanoid.WalkSpeed = 16
            end
        else
            humanoid.WalkSpeed = 16 -- القيمة الافتراضية
        end
    end)

    -- زر مضاد void (يعيد اللاعب اذا سقط)
    local antiVoidToggle = Instance.new("TextButton")
    antiVoidToggle.Text = "مضاد void: OFF"
    antiVoidToggle.Size = UDim2.new(0, 160, 0, 35)
    antiVoidToggle.Position = UDim2.new(0, 10, 0, 155)
    antiVoidToggle.BackgroundColor3 = Color3.new(0,0,0)
    antiVoidToggle.TextColor3 = Color3.new(1,1,1)
    antiVoidToggle.Font = Enum.Font.SourceSansBold
    antiVoidToggle.TextSize = 20
    antiVoidToggle.Parent = contentFrame

    local antiVoidOn = false
    local connection

    antiVoidToggle.MouseButton1Click:Connect(function()
        antiVoidOn = not antiVoidOn
        antiVoidToggle.Text = antiVoidOn and "مضاد void: ON" or "مضاد void: OFF"

        if antiVoidOn then
            -- استمع لموقع اللاعب لاعادة تعيينه عند السقوط
            connection = game:GetService("RunService").Stepped:Connect(function()
                if character and character.PrimaryPart then
                    if character.PrimaryPart.Position.Y < -50 then -- مثال مستوى void
                        player.Character.Humanoid.Health = 0 -- أو إعادة الضبط
                        wait(0.5)
                        player:LoadCharacter()
                    end
                end
            end)
        else
            if connection then
                connection:Disconnect()
                connection = nil
            end
        end
    end)

end,
	["التخريب"] = function()
    contentFrame:ClearAllChildren()

    local player = game.Players.LocalPlayer
    local selectedPlayer = nil

    -- مربع البحث عن اللاعب
    local searchBox = Instance.new("TextBox")
    searchBox.PlaceholderText = "اكتب اسم اللاعب أو جزء منه"
    searchBox.Size = UDim2.new(0, 300, 0, 35)
    searchBox.Position = UDim2.new(0, 10, 0, 10)
    searchBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    searchBox.TextColor3 = Color3.fromRGB(0, 0, 0)
    searchBox.ClearTextOnFocus = false
    searchBox.Parent = contentFrame

    -- قائمة الاقتراحات
    local suggestionFrame = Instance.new("Frame")
    suggestionFrame.Size = UDim2.new(0, 300, 0, 120)
    suggestionFrame.Position = UDim2.new(0, 10, 0, 50)
    suggestionFrame.BackgroundColor3 = Color3.fromRGB(240, 240, 240)
    suggestionFrame.BorderSizePixel = 1
    suggestionFrame.Parent = contentFrame
    suggestionFrame.Visible = false

    local uiListLayout = Instance.new("UIListLayout")
    uiListLayout.Parent = suggestionFrame
    uiListLayout.SortOrder = Enum.SortOrder.LayoutOrder

    -- دالة تحديث قائمة الاقتراحات
    local function updateSuggestions(text)
        suggestionFrame:ClearAllChildren()
        uiListLayout.Parent = suggestionFrame

        if #text < 2 then
            suggestionFrame.Visible = false
            selectedPlayer = nil
            return
        end

        local found = false
        for _, plr in pairs(game.Players:GetPlayers()) do
            if string.find(plr.Name:lower(), text:lower()) then
                found = true
                local btn = Instance.new("TextButton")
                btn.Size = UDim2.new(1, 0, 0, 30)
                btn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
                btn.TextColor3 = Color3.new(0, 0, 0)
                btn.Font = Enum.Font.SourceSans
                btn.TextSize = 18
                btn.Text = plr.Name
                btn.Parent = suggestionFrame

                btn.MouseButton1Click:Connect(function()
                    searchBox.Text = plr.Name
                    selectedPlayer = plr
                    suggestionFrame.Visible = false
                end)
            end
        end
        suggestionFrame.Visible = found
        if not found then
            selectedPlayer = nil
        end
    end

    searchBox.Changed:Connect(function(prop)
        if prop == "Text" then
            updateSuggestions(searchBox.Text)
        end
    end)

    -- التحقق من صحة اللاعب المحدد (لو ضغط على زر بدون اختيار لاعب حقيقي)
    local function validSelectedPlayer()
        if selectedPlayer and game.Players:FindFirstChild(selectedPlayer.Name) then
            return selectedPlayer
        else
            warn("لم يتم تحديد لاعب صالح!")
            return nil
        end
    end

    -- إنشاء الأزرار مع تفعيل / تعطيل (Toggle)
    local function createToggleButton(text, positionY, onActivate, onDeactivate)
        local btn = Instance.new("TextButton")
        btn.Size = UDim2.new(0, 200, 0, 40)
        btn.Position = UDim2.new(0, 10, 0, positionY)
        btn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        btn.TextColor3 = Color3.new(1, 1, 1)
        btn.Font = Enum.Font.SourceSansBold
        btn.TextSize = 22
        btn.Text = text .. " OFF"
        btn.Parent = contentFrame

        local enabled = false
        local connection = nil

        btn.MouseButton1Click:Connect(function()
            enabled = not enabled
            if enabled then
                btn.Text = text .. " ON"
                local plr = validSelectedPlayer()
                if plr then
                    connection = onActivate(plr)
                else
                    enabled = false
                    btn.Text = text .. " OFF"
                end
            else
                btn.Text = text .. " OFF"
                if connection then
                    if type(connection) == "function" then
                        connection()
                    elseif typeof(connection.Disconnect) == "function" then
                        connection:Disconnect()
                    end
                    connection = nil
                end
                if onDeactivate then
                    local plr = validSelectedPlayer()
                    if plr then
                        onDeactivate(plr)
                    end
                end
            end
        end)
    end

    -- زر مراقبة Spectate
    createToggleButton("مراقبة", 180,
        function(target)
            local camera = workspace.CurrentCamera
            local function onRender()
                if target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                    camera.CameraSubject = target.Character.Humanoid
                end
            end
            local conn = game:GetService("RunService").RenderStepped:Connect(onRender)
            return conn
        end,
        function(target)
            workspace.CurrentCamera.CameraSubject = player.Character and player.Character:FindFirstChild("Humanoid") or nil
        end
    )

    -- زر التنقل التلقائي للاعب
    createToggleButton("تنقل تلقائي", 230,
        function(target)
            local RunService = game:GetService("RunService")
            local character = player.Character or player.CharacterAdded:Wait()
            local humanoid = character:WaitForChild("Humanoid")
            local conn

            local function onUpdate()
                if target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                    humanoid:MoveTo(target.Character.HumanoidRootPart.Position)
                end
            end

            conn = RunService.Heartbeat:Connect(onUpdate)
            return conn
        end,
        function(target)
            -- عند إيقاف الزر توقف الحركة
            local character = player.Character or player.CharacterAdded:Wait()
            local humanoid = character:WaitForChild("Humanoid")
            humanoid:MoveTo(character.HumanoidRootPart.Position)
        end
    )

    -- زر التعلق والاندفاع خلف اللاعب
    createToggleButton("التعلق والاندفاع", 280,
        function(target)
            local RunService = game:GetService("RunService")
            local character = player.Character or player.CharacterAdded:Wait()
            local humanoid = character:WaitForChild("Humanoid")
            local hrp = character:WaitForChild("HumanoidRootPart")
            local conn

            local function onUpdate()
                if target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                    local targetPos = target.Character.HumanoidRootPart.Position
                    local behindPos = targetPos - target.Character.HumanoidRootPart.CFrame.LookVector * 3

                    -- التعلق خلف اللاعب مع الدفع قليلاً
                    hrp.CFrame = CFrame.new(behindPos.X, behindPos.Y, behindPos.Z) * CFrame.Angles(0, target.Character.HumanoidRootPart.CFrame.Y - hrp.CFrame.Y, 0)
                    humanoid:MoveTo(behindPos)
                end
            end

            conn = RunService.Heartbeat:Connect(onUpdate)
            return conn
        end,
        function(target)
            -- عند إيقاف الزر ارجع اللاعب لموقعه الطبيعي
        end
    )

end,
	["السكن"] = function()
    contentFrame:ClearAllChildren()

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Text = "نسخ سكنات"
    titleLabel.Size = UDim2.new(0, 200, 0, 40)
    titleLabel.Position = UDim2.new(0, 10, 0, 10)
    titleLabel.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
    titleLabel.TextColor3 = Color3.new(0, 0, 0)
    titleLabel.Parent = contentFrame

    local button = Instance.new("TextButton")
    button.Text = "نسخ سكنات"
    button.Size = UDim2.new(0, 260, 0, 35)
    button.Position = UDim2.new(0, 10, 0, 60)
    button.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    button.TextColor3 = Color3.new(1, 1, 1)
    button.Font = Enum.Font.SourceSansBold
    button.TextSize = 20
    button.Parent = contentFrame

    button.MouseButton1Click:Connect(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Luarmor123/YHUB-Community/refs/heads/main/BrookhavenCopyAvatar.lua"))()
    end)
end,
["اللاعب"] = function()
	local playerSection = contentFrame

	local info = Instance.new("TextLabel")
	info.Text = "معلومات اللاعب هنا"
	info.Size = UDim2.new(0, 200, 0, 40)
	info.Position = UDim2.new(0, 10, 0, 10)
	info.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
	info.TextColor3 = Color3.new(0, 0, 0)
	info.Font = Enum.Font.SourceSansBold
	info.TextSize = 20
	info.Parent = playerSection

	-- زر المضاد الجوي
	local teleportBtn = Instance.new("TextButton")
	teleportBtn.Size = UDim2.new(0, 260, 0, 35)
	teleportBtn.Position = UDim2.new(0, 10, 0, 60)
	teleportBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	teleportBtn.TextColor3 = Color3.new(1, 1, 1)
	teleportBtn.Font = Enum.Font.SourceSansBold
	teleportBtn.TextSize = 20
	teleportBtn.Text = "المضاد الجوي (OFF)"
	teleportBtn.Parent = playerSection

	local toggled = false
	local running = false
	local originalPosition = nil

	local teleportDistance = 12^12
	local teleportHeight = 10^12

	teleportBtn.MouseButton1Click:Connect(function()
		local player = game.Players.LocalPlayer
		local character = player.Character or player.CharacterAdded:Wait()
		local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")

		if humanoidRootPart then
			if not toggled then
				toggled = true
				running = true
				originalPosition = humanoidRootPart.CFrame

				teleportBtn.Text = "المضاد الجوي (ON)"
				teleportBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 0)

				task.spawn(function()
					while running do
						humanoidRootPart.CFrame = originalPosition * CFrame.new(teleportDistance, teleportHeight, 0)
						task.wait(0.01)
						humanoidRootPart.CFrame = originalPosition * CFrame.new(-teleportDistance, teleportHeight, 0)
						task.wait(0.01)
						humanoidRootPart.CFrame = originalPosition * CFrame.new(0, teleportHeight, -teleportDistance)
						task.wait(0.01)
						humanoidRootPart.CFrame = originalPosition * CFrame.new(0, teleportHeight, teleportDistance)
						task.wait(0.01)
						humanoidRootPart.CFrame = originalPosition
						task.wait(0.01)
					end
				end)
			else
				toggled = false
				running = false

				if originalPosition then
					humanoidRootPart.CFrame = originalPosition
				end

				teleportBtn.Text = "المضاد الجوي (OFF)"
				teleportBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
			end
		end
	end)

	-- زر مضاد رامي
	local antiRamiBtn = Instance.new("TextButton")
	antiRamiBtn.Size = UDim2.new(0, 260, 0, 35)
	antiRamiBtn.Position = UDim2.new(0, 10, 0, 105)
	antiRamiBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	antiRamiBtn.TextColor3 = Color3.new(1, 1, 1)
	antiRamiBtn.Font = Enum.Font.SourceSansBold
	antiRamiBtn.TextSize = 20
	antiRamiBtn.Text = "مضاد ارضي"
	antiRamiBtn.Parent = playerSection

	antiRamiBtn.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/muskarnu/Demon-Hub/44c52f1d3f259f70840a406b1476c25830bddb1b/AntiRami"))()
	end)

end,
	["الحماية"] = function()
		local shield = Instance.new("TextLabel")
		shield.Text = "قريبا"
		shield.Size = UDim2.new(0, 200, 0, 40)
		shield.Position = UDim2.new(0, 10, 0, 10)
		shield.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		shield.TextColor3 = Color3.new(0, 0, 0)
		shield.Parent = contentFrame
	end,
}

-- أزرار الأقسام
for i, name in ipairs(sectionNames) do
	local button = Instance.new("TextButton")
	button.Text = name
	button.Size = UDim2.new(1, -8, 0, 40)
	button.Position = UDim2.new(0, 4, 0, (i-1)*45)
	button.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Parent = sectionsFrame

	button.MouseButton1Click:Connect(function()
		contentFrame:ClearAllChildren()
		if sectionContents[name] then
			sectionContents[name]()
		end
	end)
end
